{"version":3,"file":"MassFlageDelete.min.js","mappings":"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","sources":["webpack://mwgadgets/./src/MassFlageDelete/index.js"],"sourcesContent":["//<pre> 批量挂删页面工具，逐个挂删，机器人请勿使用。\r\n\"use strict\";\r\nmw.loader.using([\"mediawiki.api\", \"mediawiki.Title\", \"ext.gadget.libOOUIDialog\"], () => {\r\n    const config = mw.config.get([\"wgNamespaceNumber\", \"wgTitle\", \"wgUserGroups\", \"skin\", \"wgUserName\"]);\r\n    const deletedetails = {\r\n        \"zh.moegirl.org.cn\": { t: \"即将删除\", s: \"[[User:星海子/Gadgets#批量挂删页面|批量挂删]]：\" },\r\n        \"mzh.moegirl.org.cn\": { t: \"即将删除\", s: \"[[User:星海子/Gadgets#批量挂删页面|批量挂删]]：\" },\r\n        \"commons.moegirl.org.cn\": { t: \"即将删除\", s: \"[[zh:User:星海子/Gadgets#批量挂删页面|批量挂删]]：\" },\r\n        \"en.moegirl.org.cn\": { t: \"Awaiting deletion\", s: \"[[zh:User:星海子/Gadgets#批量挂删页面|Batch Flag for Deletion]]：\" },\r\n        \"ja.moegirl.org.cn\": { t: \"Sakujo\", s: \"[[zh:User:星海子/Gadgets#批量挂删页面|複数のページを一括削除]]：\" },\r\n        \"library.moegirl.org.cn\": { t: \"即将删除\", s: \"[[zh:User:星海子/Gadgets#批量挂删页面|批量挂删]]：\" },\r\n    };\r\n\r\n    function removeBlanks(arr) {\r\n        const ret = [];\r\n        let i, len;\r\n        for (i = 0, len = arr.length; i < len; i++) {\r\n            let s = arr[i];\r\n            s = s.trim();\r\n            if (s) { ret.push(s); }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    function doMassDelete() {\r\n        document.getElementById(\"wpMassDeleteSubmit\").disabled = true;\r\n        let articles = document.getElementById(\"wpMassDeletePages\").value.split(\"\\n\");\r\n        articles = removeBlanks(articles);\r\n        if (!articles.length) { return; }\r\n        let RegisterToDelete = 0;\r\n        const\r\n            api = new mw.Api(),\r\n            wpMassDeleteReason = document.getElementById(\"wpMassDeleteReason\").value,\r\n            wpMassDeleteWatch = document.getElementById(\"wpMassDeleteWatch\").value,\r\n            failed = [],\r\n            error = [],\r\n            onSuccess = function () {\r\n                RegisterToDelete++;\r\n                document.getElementById(\"wpMassDeleteSubmit\").value = `(${RegisterToDelete})`;\r\n            };\r\n\r\n        function makeDeleteFunc(article) {\r\n            return function () {\r\n                return $.Deferred((deferred) => {\r\n                    if (article.startsWith(\"cm:\")) {\r\n                        article = article.substring(3);\r\n                    }\r\n                    const options = {\r\n                        format: \"json\",\r\n                        action: \"edit\",\r\n                        watchlist: wpMassDeleteWatch,\r\n                        title: article,\r\n                        text: `<noinclude>{{${deletedetails[location.hostname].t}|1=${wpMassDeleteReason}|user=${config.wgUserName}}}</noinclude>`,\r\n                        summary: deletedetails[location.hostname].s + wpMassDeleteReason,\r\n                        tags: \"Automation tool\",\r\n                        nocreate: true,\r\n                        bot: config.wgUserGroups.includes(\"flood\"),\r\n                    };\r\n                    const promise = api.postWithToken(\"csrf\", options);\r\n                    promise.done(onSuccess);\r\n                    promise.fail((_code, obj) => {\r\n                        failed.push(article);\r\n                        error.push(obj.error.info);\r\n                    });\r\n                    promise.always(() => {\r\n                        deferred.resolve();\r\n                    });\r\n                });\r\n            };\r\n        }\r\n        let deferred = makeDeleteFunc(articles[0])();\r\n        for (let i = 1, len = articles.length; i < len; i++) {\r\n            deferred = deferred.then(makeDeleteFunc(articles[i]));\r\n        }\r\n\r\n        $.when(deferred).then(() => {\r\n            document.getElementById(\"wpMassDeleteSubmit\").value = `已完成 ${RegisterToDelete} 个挂删`;\r\n            if (failed.length) {\r\n                const $failedList = $(\"<ul>\");\r\n                for (let x = 0; x < failed.length; x++) {\r\n                    const failedTitle = mw.Title.newFromText(failed[x]);\r\n                    const $failedItem = $(\"<li>\");\r\n                    if (failedTitle) {\r\n                        $failedItem.append($(\"<a>\")\r\n                            .attr(\"href\", failedTitle.getUrl())\r\n                            .text(failed[x]),\r\n                        );\r\n                    } else { $failedItem.text(failed[x]); }\r\n                    $failedItem.append(document.createTextNode(`: ${error[x]}`));\r\n                    $failedList.append($failedItem);\r\n                }\r\n                $(\"#wpMassDeleteFailedContainer\")\r\n                    .append($(\"<br />\"))\r\n                    .append($(\"<b>\")\r\n                        .text(\"挂删失败：\"),\r\n                    )\r\n                    .append($failedList);\r\n            }\r\n        });\r\n    }\r\n\r\n    function MassDeleteForm() {\r\n        const bodyContent = config.skin === \"moeskin\" ? \"moe-body-content\" : \"bodyContent\";\r\n        document.getElementsByTagName(\"h1\")[0].textContent = \"Special:批量挂删页面\";\r\n        document.title = \"批量挂删页面 - 萌娘百科 万物皆可萌的百科全书\";\r\n        document.getElementById(bodyContent).innerHTML = \"<p>大量挂删页面之工具，请慎用！</p>\" +\r\n            '<form id=\"wpMassDelete\" name=\"wpMassDelete\">' +\r\n            \"<p>如有滥用之行为，后果请阁下自行承担。</p>\" +\r\n            \"<p><b>使用方法</b></p>\" +\r\n            \"<p>1.在挂删列表填写页面，每行一个页面，不需要加[[]]；</p>\" +\r\n            \"<p>2.添加挂删原因，自行填写或选择预置项均可；</p>\" +\r\n            \"<p>3.确认无误后点击确认提交；</p>\" +\r\n            \"<p>4.页面将逐个挂删，按钮的数字将从0增加，请勿关闭本页面;</p>\" +\r\n            \"<p>5.完成后，按钮文字会显示为完成数量。</p>\" +\r\n            '<div id=\"wpMassDeleteFailedContainer\"></div>' +\r\n            \"<hr /><br />\" +\r\n            \"<b>挂删列表</b>：<br />\" +\r\n            '<textarea tabindex=\"1\" accesskey=\",\" name=\"wpMassDeletePages\" id=\"wpMassDeletePages\" rows=\"10\" cols=\"80\"></textarea>' +\r\n            '<br /><table style=\"background-color:transparent\">' +\r\n            \"<tr><td>监视页面</td>\" +\r\n            '<td><select id=\"wpMassDeleteWatch\">' +\r\n            '<option value=\"preferences\">与参数设置同步</option>' +\r\n            '<option value=\"nochange\">不更改</option>' +\r\n            '<option value=\"watch\">加入监视列表</option>' +\r\n            '<option value=\"unwatch\">取消监视</option>' +\r\n            \"</select></td></tr>\" +\r\n            \"<tr><td>挂删原因：</td>\" +\r\n            '<td><input type=\"text\" style=\"width:30em;height:1.5em\" id=\"wpMassDeleteReason\" list=\"MassDeleteReasonList\" name=\"wpMassDeleteReason\" maxlength=\"255\" /></td>' +\r\n            '<datalist id=\"MassDeleteReasonList\">' +\r\n            \"<option>内容极少/质量极差</option>\" +\r\n            \"<option>用户本人申请</option>\" +\r\n            \"<option>错误命名</option>\" +\r\n            \"<option>移动残留重定向</option>\" +\r\n            \"<option>无法修复的受损重定向/双重重定向</option>\" +\r\n            \"<option>不再使用的文件</option>\" +\r\n            \"<option>文件替换申请</option>\" +\r\n            \"<option>重复或有更佳版本的文件</option>\" +\r\n            \"<option>用户页开设维基农场</option>\" +\r\n            \"<option>违反法律法规或内容管理方针</option>\" +\r\n            \"</datalist></tr>\" +\r\n            '<tr><td><input type=\"button\" id=\"wpMassDeleteSubmit\" name=\"wpMassDeleteSubmit\" value=\"确认\" /></td>' +\r\n            \"</form>\";\r\n        document.getElementById(\"wpMassDeleteSubmit\").addEventListener(\"click\", async () => {\r\n            const confirm = await oouiDialog.confirm(\"请确认您的挂删信息是否填写正确！\", {\r\n                title: \"MassTool\",\r\n                size: \"small\",\r\n            });\r\n            if (confirm) {\r\n                doMassDelete();\r\n            }\r\n        });\r\n    }\r\n\r\n    async function massDeleteMaster() {\r\n        if (!config.wgUserGroups.includes(\"patroller\") && !config.wgUserGroups.includes(\"sysop\")) {\r\n            return await oouiDialog.alert(\"您不是维护人员，禁止使用批量挂删工具！\", {\r\n                title: \"MassTool\",\r\n                size: \"small\",\r\n            });\r\n        }\r\n        MassDeleteForm();\r\n    }\r\n\r\n    if (config.wgNamespaceNumber === -1 &&\r\n        (config.wgTitle.toLowerCase() === \"massdelete\" || config.wgTitle.toLowerCase() === \"md\")) {\r\n        massDeleteMaster();\r\n    }\r\n\r\n    if (window.MassDelete) {\r\n        mw.util.addPortletLink(\r\n            \"p-tb\",\r\n            \"/Special:MassDelete\",\r\n            \"批量挂删\",\r\n            \"t-massdelete\",\r\n        );\r\n    }\r\n});\r\n//</pre>\r\n"],"names":["_regenerator","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","mw","loader","using","config","get","deletedetails","s","doMassDelete","document","getElementById","disabled","articles","split","arr","len","ret","trim","push","removeBlanks","RegisterToDelete","api","Api","wpMassDeleteReason","wpMassDeleteWatch","failed","error","onSuccess","concat","deferred","makeDeleteFunc","$","when","$failedList","x","failedTitle","Title","newFromText","$failedItem","append","attr","getUrl","text","createTextNode","article","Deferred","startsWith","substring","options","format","action","watchlist","title","location","hostname","wgUserName","summary","tags","nocreate","bot","wgUserGroups","includes","promise","postWithToken","fail","_code","obj","info","always","MassDeleteForm","bodyContent","skin","getElementsByTagName","textContent","innerHTML","addEventListener","_callee","_context","oouiDialog","confirm","size","_massDeleteMaster","_callee2","_context2","alert","wgNamespaceNumber","wgTitle","toLowerCase","massDeleteMaster","window","MassDelete","util","addPortletLink"],"sourceRoot":""}