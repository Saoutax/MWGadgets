{"version":3,"file":"DisambigHelper.min.js","mappings":"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","sources":["webpack://mwgadgets/./src/DisambigHelper/index.js"],"sourcesContent":["$(function () {\r\n\r\n  if (!mw.config.get( 'wgIsArticle' ) || mw.config.get( 'wgPageContentModel' ) !== 'wikitext') { return }\r\n\r\n  const msg = {\r\n    loading: '加载中...',\r\n    loadingFailed: '( ﾟ∀。)加载失败',\r\n    editing: '修改中...',\r\n    edited: '修改成功！正在刷新页面...',\r\n    editFailed: '( ﾟ∀。)修改失败',\r\n    disambig: '消歧义',\r\n  }\r\n  switch (mw.config.get().wgUserLanguage) {\r\n    case 'zh-hant':\r\n      msg.loading = '加載中...';\r\n      msg.loadingFailed = '( ﾟ∀。)加載失敗';\r\n      msg.editing = '修改中...';\r\n      msg.edited = '修改成功！正在刷新頁面...';\r\n      msg.editFailed = '( ﾟ∀。)修改失敗';\r\n      msg.disambig = '消歧義';\r\n      break;\r\n  }\r\n\r\n  const edit = `<img class=\"icon\" alt=\"edit\" src=\"data:image/svg+xml;base64,PHN2ZyB0PSIxNjMyMTExNDY4NTg2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjMzNTciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNODI3LjczMzMzMyAzMTMuMTczMzMzTDcxMC44MjY2NjcgMTk2LjI2NjY2N0E4NS4zMzMzMzMgODUuMzMzMzMzIDAgMCAwIDU5Ny4zMzMzMzMgMTkzLjI4bC0zODQgMzg0YTg1LjMzMzMzMyA4NS4zMzMzMzMgMCAwIDAtMjQuMzIgNTEuNjI2NjY3TDE3MC42NjY2NjcgODA2LjgyNjY2N2E0Mi42NjY2NjcgNDIuNjY2NjY3IDAgMCAwIDEyLjM3MzMzMyAzNC4xMzMzMzNBNDIuNjY2NjY3IDQyLjY2NjY2NyAwIDAgMCAyMTMuMzMzMzMzIDg1My4zMzMzMzNoMy44NGwxNzcuOTItMTYuMjEzMzMzYTg1LjMzMzMzMyA4NS4zMzMzMzMgMCAwIDAgNTEuNjI2NjY3LTI0LjMybDM4NC0zODRhODEuOTIgODEuOTIgMCAwIDAtMi45ODY2NjctMTE1LjYyNjY2N3pNNjgyLjY2NjY2NyA0NTUuNjhMNTY4LjMyIDM0MS4zMzMzMzNsODMuMi04NS4zMzMzMzNMNzY4IDM3Mi40OHoiIHAtaWQ9IjMzNTgiPjwvcGF0aD48L3N2Zz4=\">`;\r\n  const edit_all = `<img class=\"icon\" alt=\"edit_all\" src=\"data:image/svg+xml;base64,PHN2ZyB0PSIxNjMyMTExNDY4NTg2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjMzNTciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNODI3LjczMzMzMyAzMTMuMTczMzMzTDcxMC44MjY2NjcgMTk2LjI2NjY2N0E4NS4zMzMzMzMgODUuMzMzMzMzIDAgMCAwIDU5Ny4zMzMzMzMgMTkzLjI4bC0zODQgMzg0YTg1LjMzMzMzMyA4NS4zMzMzMzMgMCAwIDAtMjQuMzIgNTEuNjI2NjY3TDE3MC42NjY2NjcgODA2LjgyNjY2N2E0Mi42NjY2NjcgNDIuNjY2NjY3IDAgMCAwIDEyLjM3MzMzMyAzNC4xMzMzMzNBNDIuNjY2NjY3IDQyLjY2NjY2NyAwIDAgMCAyMTMuMzMzMzMzIDg1My4zMzMzMzNoMy44NGwxNzcuOTItMTYuMjEzMzMzYTg1LjMzMzMzMyA4NS4zMzMzMzMgMCAwIDAgNTEuNjI2NjY3LTI0LjMybDM4NC0zODRhODEuOTIgODEuOTIgMCAwIDAtMi45ODY2NjctMTE1LjYyNjY2N3pNNjgyLjY2NjY2NyA0NTUuNjhMNTY4LjMyIDM0MS4zMzMzMzNsODMuMi04NS4zMzMzMzNMNzY4IDM3Mi40OHoiIHAtaWQ9IjMzNTgiIGZpbGw9IiNkODFlMDYiPjwvcGF0aD48L3N2Zz4=\">`;\r\n  const link = `<img class=\"icon\" alt=\"link\" src=\"data:image/svg+xml;base64,PHN2ZyB0PSIxNjMyMTExNzE4MDc5IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjM1NjgiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNMzQxLjMzMzMzMyA1MTJhNDIuNjY2NjY3IDQyLjY2NjY2NyAwIDAgMCA0Mi42NjY2NjcgNDIuNjY2NjY3aDI1NmE0Mi42NjY2NjcgNDIuNjY2NjY3IDAgMCAwIDAtODUuMzMzMzM0SDM4NGE0Mi42NjY2NjcgNDIuNjY2NjY3IDAgMCAwLTQyLjY2NjY2NyA0Mi42NjY2Njd6IiBwLWlkPSIzNTY5Ij48L3BhdGg+PHBhdGggZD0iTTM4NCA2ODIuNjY2NjY3SDMwNy42MjY2NjdBMTc2LjIxMzMzMyAxNzYuMjEzMzMzIDAgMCAxIDEyOCA1MjcuNzg2NjY3IDE3MC42NjY2NjcgMTcwLjY2NjY2NyAwIDAgMSAyOTguNjY2NjY3IDM0MS4zMzMzMzNoODUuMzMzMzMzYTQyLjY2NjY2NyA0Mi42NjY2NjcgMCAwIDAgMC04NS4zMzMzMzNIMzA3LjYyNjY2N2EyNjIuNCAyNjIuNCAwIDAgMC0yNjIuODI2NjY3IDIyMi4yOTMzMzNBMjU2IDI1NiAwIDAgMCAyOTguNjY2NjY3IDc2OGg4NS4zMzMzMzNhNDIuNjY2NjY3IDQyLjY2NjY2NyAwIDAgMCAwLTg1LjMzMzMzM3pNOTgxLjMzMzMzMyA0NzkuNTczMzMzQTI2Mi44MjY2NjcgMjYyLjgyNjY2NyAwIDAgMCA3MTUuMDkzMzMzIDI1NmgtNjQuNDI2NjY2QzYxNi4xMDY2NjcgMjU2IDU5Ny4zMzMzMzMgMjc1LjIgNTk3LjMzMzMzMyAyOTguNjY2NjY3YTQyLjY2NjY2NyA0Mi42NjY2NjcgMCAwIDAgNDIuNjY2NjY3IDQyLjY2NjY2Nmg3Ni4zNzMzMzNBMTc2LjIxMzMzMyAxNzYuMjEzMzMzIDAgMCAxIDg5NiA0OTYuMjEzMzMzIDE3MC42NjY2NjcgMTcwLjY2NjY2NyAwIDAgMSA3MjUuMzMzMzMzIDY4Mi42NjY2NjdoLTg1LjMzMzMzM2E0Mi42NjY2NjcgNDIuNjY2NjY3IDAgMCAwIDAgODUuMzMzMzMzaDg1LjMzMzMzM2EyNTYgMjU2IDAgMCAwIDI1Ni0yODguNDI2NjY3eiIgcC1pZD0iMzU3MCI+PC9wYXRoPjwvc3ZnPg==\">`;\r\n\r\n  const style = `<style>\r\n    a.mw-disambig.mw-disambig { color: #ff8921; }\r\n    a.mw-disambig.mw-disambig:visited { color: #d2711b; }\r\n    a.mw-redirect.mw-disambig { color: #ff6421; }\r\n    a.mw-redirect.mw-disambig:visited { color: #d2521b; }\r\n    div.disambig-box {\r\n      width: 200px;\r\n      max-height: 220px;\r\n      overflow-y: scroll;\r\n      border-radius: 2px;\r\n      box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px;\r\n      -webkit-box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px;\r\n      margin: 0;\r\n      padding: 0;\r\n      color: #000;\r\n      background: #FFF;\r\n      position: absolute;\r\n      font-size: 14px;\r\n      font-style: normal;\r\n      font-weight: normal;\r\n      text-decoration: none;\r\n      text-align: left;\r\n      display: none;\r\n      transition: all 500ms cubic-bezier(.23, 1, .32, 1) 0ms;\r\n      z-index: 999;\r\n    }\r\n    .disambig-box ul.disambig-ul {\r\n      list-style: none;\r\n      padding: 0 !important;\r\n      margin: 0 !important;\r\n    }\r\n    .disambig-box li {\r\n      color: #000 !important;\r\n      padding: 2px 10px;\r\n      transition: all 500ms cubic-bezier(.23, 1, .32, 1) 0ms;\r\n    }\r\n    .disambig-box li:hover { background: #F0F0F0; }\r\n    .disambig-box li a { text-decoration: none; }\r\n    .icon {\r\n      margin-left: 5px;\r\n      width: 20px;\r\n      opacity: .7;\r\n      transition: all 500ms cubic-bezier(.23, 1, .32, 1) 0ms;\r\n    }\r\n    .icon:hover { opacity: 1; }\r\n    </style>`;\r\n  $('body').append(style);\r\n\r\n  const getLinkTitle = element => decodeURI($(element).attr('href').substring(1)).replace('%2F', '/')\r\n\r\n  const getWikitext = title => {\r\n    return new Promise(resolve => {\r\n      new mw.Api().get({\r\n        action: 'parse',\r\n        page: title,\r\n        redirects: true,\r\n        prop: 'wikitext',\r\n        format: 'json',\r\n      }).done((data) => {\r\n        resolve(data.parse.wikitext['*']);\r\n      }).fail((a, b, errorThrown) => {\r\n        resolve(errorThrown);\r\n      });\r\n    })\r\n  }\r\n\r\n  const repeat_num_list = function() {\r\n    let list = {}\r\n    $('.mw-disambig').each(function() {\r\n      const title = getLinkTitle(this);\r\n      list[title] = list[title] + 1 || 0;\r\n    });\r\n    return list\r\n  }();\r\n\r\n  $('.mw-disambig').each(async function() {\r\n\r\n    const title = getLinkTitle(this); // 链接页面标题\r\n    const display_title = $(this).text(); // 管道符后显示文字\r\n    let id_title = title.split('.').join(''); // 防止消歧义页标题含 .\r\n    let repeat_now = $(`#${id_title}`).length;\r\n    if (repeat_now > 0) { id_title = id_title + repeat_now + 1; } // 同页面出现相同的消歧义链接\r\n    const edit_icon = repeat_num_list[title] === 0 ? edit : edit_all;\r\n    const send = msg => { $(`#${id_title} ul`).empty().append(`<li>${msg}</li>`) }\r\n\r\n    $(this).after(\r\n      $('<div>', {\r\n        id: id_title,\r\n        class: 'disambig-box',\r\n      }).on('mouseleave', () => {\r\n        $(`#${id_title}`).hide(150, 'swing');\r\n      }).append('<ul class=\"disambig-ul\">'),\r\n      $('<sup>').append($('<a>', {\r\n        href: 'javascript:void(0)',\r\n        text: '?',\r\n        class: id_title,\r\n      }))\r\n    )\r\n\r\n    $(`a.${id_title}`).on('mouseenter', async () => {\r\n      $(`#${id_title}`).css({ // 定位\r\n        'left': $(this).position()['left'] + 10,\r\n        'top': $(this).position()['top'] + 16,\r\n      });\r\n      send(msg.loading);\r\n      $(`#${id_title}`).show(150, 'swing');\r\n\r\n      let senses = await getWikitext(title); // 获取义项\r\n      senses = senses.split('\\n').map(\r\n        sense => sense.substring(0, sense.indexOf('——'))\r\n      ).map(sense => {\r\n        if (sense.match(/\\[\\[/g) && !sense.match(/\\[\\[File:/gi)) {\r\n          return sense.split('[[')[1].split(']]')[0]\r\n        } else if (sense.match(/\\{\\{(dis|dl)\\|/gi)) { // {{dis}}, {{dl}}\r\n          return sense.split(/\\{\\{(dis|dl)\\|/gi)[1]\r\n        } else if (sense.match(/\\{\\{coloredlink\\|/gi)) { // {{coloredlink}}\r\n          return sense.split(/\\{\\{coloredlink\\|/gi)[1]\r\n        }\r\n      }).filter(sense => sense).map(sense => sense.split('|')[0]);\r\n\r\n      $(`#${id_title} ul`).empty();\r\n      if (!senses[0]) { return send(msg.loadingFailed) }\r\n      for (const sense of senses) {\r\n        let safe_sense = sense.replace('\"', '&quot;');\r\n        $(`#${id_title} ul`).append(`<li id=\"${safe_sense}\">${sense}<a href=\"/${safe_sense}\">${link}</a><a>${edit_icon}</a></li>`);\r\n        document.getElementById(sense).lastChild.addEventListener('click', async () => {\r\n          send(msg.editing);\r\n          let page_title = mw.config.get().wgPageName;\r\n          let wikitext = await getWikitext(page_title);\r\n          let origin_link = `[[${title}]]`;\r\n          if (title !== display_title) {\r\n            origin_link = `[[${title}|${display_title}]]`;\r\n          }\r\n          new mw.Api().postWithToken('csrf', {\r\n            action: 'edit',\r\n            text: wikitext.replaceAll(origin_link, `[[${sense}|${display_title}]]`),\r\n            title: page_title,\r\n            minor: true,\r\n            nocreate: true,\r\n            summary: `${msg.disambig}：[[${title}]]→[[${sense}]]`,\r\n            tags: \"Automation tool\",\r\n            errorformat: 'plaintext'\r\n          }).done((data) => {\r\n            send(msg.edited);\r\n            window.location.reload();\r\n          }).fail((a, b, errorThrown) => {\r\n            send(`${msg.editFailed}（${errorThrown}）`);\r\n          });\r\n        });\r\n      }\r\n    })\r\n\r\n  })\r\n\r\n});"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","_createForOfIteratorHelper","Array","isArray","_arrayLikeToArray","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","_n","F","s","next","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","$","mw","config","get","msg","loading","loadingFailed","editing","edited","editFailed","disambig","wgUserLanguage","append","list","getLinkTitle","element","decodeURI","attr","substring","replace","getWikitext","title","Api","action","page","redirects","prop","format","data","parse","wikitext","fail","b","errorThrown","repeat_num_list","each","this","_callee3","display_title","id_title","repeat_now","edit_icon","send","_this","_context4","text","split","join","concat","empty","after","id","class","on","hide","href","_callee2","senses","_iterator","_step","_loop","_t","_context3","css","position","show","map","sense","indexOf","match","filter","safe_sense","_context2","document","getElementById","lastChild","addEventListener","_callee","page_title","origin_link","_context","wgPageName","postWithToken","replaceAll","minor","nocreate","summary","tags","errorformat","window","location","reload","_regeneratorValues"],"sourceRoot":""}